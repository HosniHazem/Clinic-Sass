%% MedFlow - Use Case Diagram
%% Shows the interactions between different actors and the system

graph TB
    %% Actors
    Admin[ðŸ‘¤ Admin]
    Doctor[ðŸ‘¨â€âš•ï¸ Doctor]
    Receptionist[ðŸ‘©â€ðŸ’¼ Receptionist]
    Patient[ðŸ§‘ Patient]
    StripeSystem[ðŸ’³ Stripe System]

    %% Admin Use Cases
    subgraph AdminCases["Admin Use Cases"]
        UC1[Manage Clinic Settings]
        UC2[Manage Staff Members]
        UC3[Invite Staff]
        UC4[Manage Services]
        UC5[View Reports]
        UC6[Manage Subscriptions]
    end

    %% Doctor Use Cases
    subgraph DoctorCases["Doctor Use Cases"]
        UC7[View Appointments]
        UC8[Conduct Consultation]
        UC9[Create Prescription]
        UC10[Update Patient Records]
        UC11[View Patient History]
        UC12[Manage Availability]
    end

    %% Receptionist Use Cases
    subgraph ReceptionistCases["Receptionist Use Cases"]
        UC13[Register New Patient]
        UC14[Schedule Appointment]
        UC15[Check-in Patient]
        UC16[Generate Invoice]
        UC17[Process Payment]
        UC18[Cancel Appointment]
    end

    %% Patient Use Cases
    subgraph PatientCases["Patient Use Cases"]
        UC19[Book Appointment]
        UC20[View Appointments]
        UC21[View Prescriptions]
        UC22[View Invoices]
        UC23[Make Payment]
        UC24[Update Profile]
    end

    %% Shared Use Cases
    subgraph SharedCases["Shared Use Cases"]
        UC25[Login/Logout]
        UC26[Reset Password]
        UC27[View Dashboard]
    end

    %% Admin Connections
    Admin --> UC1
    Admin --> UC2
    Admin --> UC3
    Admin --> UC4
    Admin --> UC5
    Admin --> UC6
    Admin --> UC25

    %% Doctor Connections
    Doctor --> UC7
    Doctor --> UC8
    Doctor --> UC9
    Doctor --> UC10
    Doctor --> UC11
    Doctor --> UC12
    Doctor --> UC25
    Doctor --> UC27

    %% Receptionist Connections
    Receptionist --> UC13
    Receptionist --> UC14
    Receptionist --> UC15
    Receptionist --> UC16
    Receptionist --> UC17
    Receptionist --> UC18
    Receptionist --> UC25
    Receptionist --> UC27

    %% Patient Connections
    Patient --> UC19
    Patient --> UC20
    Patient --> UC21
    Patient --> UC22
    Patient --> UC23
    Patient --> UC24
    Patient --> UC25
    Patient --> UC26

    %% System Interactions
    UC23 -.-> StripeSystem
    UC17 -.-> StripeSystem

    %% Include/Extend Relationships
    UC8 -.->|includes| UC10
    UC9 -.->|requires| UC8
    UC16 -.->|includes| UC7
    UC19 -.->|requires| UC25
    UC14 -.->|may include| UC13

    style Admin fill:#e1f5ff
    style Doctor fill:#fff4e1
    style Receptionist fill:#ffe1f5
    style Patient fill:#e1ffe1
    style StripeSystem fill:#f0f0f0
