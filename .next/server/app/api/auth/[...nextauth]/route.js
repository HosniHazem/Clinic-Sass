"use strict";(()=>{var e={};e.id=4912,e.ids=[4912],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},40834:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>p,originalPathname:()=>m,patchFetch:()=>y,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>f});var a={};r.r(a),r.d(a,{GET:()=>s.HT,POST:()=>s.a4});var n=r(95419),i=r(69108),o=r(99678),s=r(81147);let l=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/home/hazem/Downloads/files (2)/medflow-saas-complete/medflow-saas/src/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:d,headerHooks:p,staticGenerationBailout:f}=l,m="/api/auth/[...nextauth]/route";function y(){return(0,o.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:c})}},48096:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DYNAMIC_ERROR_CODE:function(){return r},DynamicServerError:function(){return a}});let r="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super("Dynamic server usage: "+e),this.digest=r}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72973:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"staticGenerationBailout",{enumerable:!0,get:function(){return s}});let a=r(48096),n=r(45869);class i extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}function o(e,t){let{dynamic:r,link:a}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(a?" See more info here: "+a:"")}let s=(e,t)=>{let{dynamic:r,link:s}=void 0===t?{}:t,l=n.staticGenerationAsyncStorage.getStore();if(!l)return!1;if(l.forceStatic)return!0;if(l.dynamicShouldError)throw new i(o(e,{link:s,dynamic:null!=r?r:"error"}));let u=o(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==l.postpone||l.postpone.call(l,e),l.revalidate=0,l.isStaticGeneration){let t=new a.DynamicServerError(u);throw l.dynamicUsageDescription=e,l.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50482:(e,t,r)=>{e.exports=r(20399)},40002:(e,t,r)=>{e.exports=r(50482).vendored["react-rsc"].React},95419:(e,t,r)=>{e.exports=r(30517)},81147:(e,t,r)=>{r.d(t,{HT:()=>f,I8:()=>c,a4:()=>m});var a=r(78554),n=r(65822),i=r(53524),o=r(3133),s=r(6521);let l=new i.PrismaClient,{handlers:u,auth:c,signIn:d,signOut:p}=(0,a.ZP)({adapter:(0,n.N)(l),session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET||"your-secret-key",debug:!1,trustHost:!0,pages:{signIn:"/auth/login",error:"/auth/login"},callbacks:{session:async({session:e,token:t})=>(e.user&&(e.user.id=t.sub,e.user.role=t.role,e.user.clinicId=t.clinicId,e.user.clinicName=t.clinicName),e),jwt:async({token:e,user:t})=>(t&&(e.role=t.role,e.clinicId=t.clinicId,e.clinicName=t.clinicName),e)},providers:[(0,o.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;try{let t=await l.user.findUnique({where:{email:e.email},include:{clinic:!0}});if(!t||!t.password||!await (0,s.compare)(e.password,t.password))return null;return{id:t.id,email:t.email,name:[t.firstName,t.lastName].filter(Boolean).join(" ")||t.email.split("@")[0],role:t.role,clinicId:t.clinicId,clinicName:t.clinic?.name||void 0}}catch(e){return console.error("Authentication error:",e),null}}})]}),{GET:f,POST:m}=u},46783:(e,t,r)=>{function a(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>a,_interop_require_default:()=>a})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,8070,6521,9888],()=>r(40834));module.exports=a})();